

static void builder_connect_func(GtkBuilder *builder, GObject *object,
	const gchar *signal_name, const gchar *handler_name, GObject *connect_obj,
	GConnectFlags flags, gpointer user_data)
{
	GHashTable *hash = user_data;
	GCallback callback;

	callback = g_hash_table_lookup(hash, handler_name);
	g_return_if_fail(callback);

	if (connect_obj == NULL)
		g_signal_connect_data(object, signal_name, callback, NULL, NULL, flags);
	else
		g_signal_connect_object(object, signal_name, callback, connect_obj, flags);
}


void callbacks_connect(GtkBuilder *builder)
{
	GHashTable *hash;

	g_return_if_fail(GTK_IS_BUILDER(builder));

	hash = g_hash_table_new(g_str_hash, g_str_equal);

@callback_map@

	gtk_builder_connect_signals_full(builder, builder_connect_func, hash);
	g_hash_table_destroy(hash);
}
